window.wp=window.wp||{},function(t){var e=wp.media;e.view.AttachmentFilters.Taxonomy=e.view.AttachmentFilters.extend({tagName:"select",createFilters:function(){var e={},o=this;_.each(o.options.termList||{},function(r,i){var a=r.term_id,n=t("<div/>").html(r.term_name).text();e[a]={text:n,priority:i+2},e[a].props={},e[a].props[o.options.taxonomy]=a}),e.all={text:o.options.termListTitle,priority:1},e.all.props={},e.all.props[o.options.taxonomy]=null,this.filters=e}});var o=e.view.AttachmentsBrowser;e.view.AttachmentsBrowser=e.view.AttachmentsBrowser.extend({createToolbar:function(){var r=this.options.filters;o.prototype.createToolbar.apply(this,arguments);var i=this,a=1;t.each(wpmediacategory_taxonomies,function(t,o){o.term_list&&r&&i.toolbar.set(t+"-filter",new e.view.AttachmentFilters.Taxonomy({controller:i.controller,model:i.collection.props,priority:-80+10*a++,taxonomy:t,termList:o.term_list,termListTitle:o.list_title,className:"wpmediacategory-filter attachment-"+t+"-filter"}).render())})}})}(jQuery);